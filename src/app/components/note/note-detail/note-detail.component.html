<div class="note-detail" *ngIf="note.id">
    <div class="detail-header" [ngStyle]="{'background-color': selectedColor.value}">
        <div [ngClass]="{'justify-between': noteId === -1}">
            <button *ngIf="noteId === -1" mat-icon-button routerLink="/notes">
                <mat-icon>arrow_back_ios</mat-icon>
            </button>
            <div class="justify-end">
                <button mat-icon-button (click)="isLocked = !isLocked; updateNote()">
                    <mat-icon *ngIf="isLocked">lock</mat-icon>
                    <mat-icon *ngIf="!isLocked">lock_open</mat-icon>
                </button>
                <button mat-icon-button (click)="openRemoveDialog()">
                    <mat-icon>delete</mat-icon>
                </button>
            </div>
        </div>

        <mat-form-field appearance="standard" class="input-title">
            <textarea matInput
                      placeholder="Titre"
                      [value]="note.title"
                      [(ngModel)]="title"
                      (focusout)="updateNote()"
                      cdkTextareaAutosize
                      cdkAutosizeMinRows="1"
                      [disabled]="isLocked">
            </textarea>
        </mat-form-field>
    </div>

    <div class="justify-between">
        <app-note-color-palette
            *ngIf="!isLocked"
            [detailColor]="note.color"
            (eventEmitter)="getCurrentColor($event)">
        </app-note-color-palette>
        <mat-hint class="vertical-center">{{note.createDate | date:'dd/MM/yyyy'}}</mat-hint>
    </div>

    <mat-form-field appearance="standard">
        <textarea matInput
                  [value]="note.content"
                  [(ngModel)]="content"
                  (focusout)="updateNote()"
                  placeholder="CrÃ©er une note..."
                  cdkTextareaAutosize
                  cdkAutosizeMinRows="1"
                  [disabled]="isLocked">
        </textarea>
    </mat-form-field>
</div>
<div class="justify-center spinner" *ngIf="!note.id">
    <mat-spinner diameter="50"></mat-spinner>
</div>
