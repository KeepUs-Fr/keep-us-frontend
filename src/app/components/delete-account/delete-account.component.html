<div class="account-delete">
    <div>
        <h1>Voulez-vous vraiment supprimer le compte ?</h1>

        <p>
            <mat-icon color="warn">warning</mat-icon>
            Le profil, les groupes, ainsi que les notes associés à ce compte ne seront plus disponibles.
        </p>
        <p>
            <mat-icon color="warn">warning</mat-icon>
            Vous ne pourrez plus accéder aux informations du compte, à l'espace personnel,
            aux differents groupes, ni aux notes.
        </p>
        <p>
            <mat-icon color="warn">warning</mat-icon>
            La suppression du compte est une action irreversible. Toutes
            les données seront supprimées.
        </p>

        <p class="delete">Je veux supprimer définitivement le compte.</p>

        <form>
            <mat-form-field appearance="outline">
                <mat-label>Mot de passe</mat-label>
                <input matInput [type]="hide ? 'password' : 'text'" [(ngModel)]="password" required>
                <button mat-icon-button matSuffix type="button" (click)="hide = !hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
        </form>

        <p class="txt-warn txt-center" *ngIf="errorMsg.trim() !== ''">{{errorMsg}}</p>
        <button mat-flat-button
                [mat-dialog-close]="true"
                class="btn delete"
                type="button"
                [disabled]="password.trim() === ''"
                (click)="deleteAccount()">
            Supprimer le compte
        </button>
        <button mat-flat-button
                mat-dialog-close
                type="button"
                class="btn cancel"
                routerLink="/profile">
            Annuler
        </button>
    </div>
</div>
